<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN"
   "http://www.w3.org/TR/html4/strict.dtd">

<html>
<head>
  <title></title>
  <meta http-equiv="content-type" content="text/html; charset=None">
  <style type="text/css">
td.linenos { background-color: #f0f0f0; padding-right: 10px; }
span.lineno { background-color: #f0f0f0; padding: 0 5px 0 5px; }
pre { line-height: 125%; }
body .hll { background-color: #ffffcc }
body  { background: #f8f8f8; }
body .c { color: #408080; font-style: italic } /* Comment */
body .err { border: 1px solid #FF0000 } /* Error */
body .k { color: #008000; font-weight: bold } /* Keyword */
body .o { color: #666666 } /* Operator */
body .ch { color: #408080; font-style: italic } /* Comment.Hashbang */
body .cm { color: #408080; font-style: italic } /* Comment.Multiline */
body .cp { color: #BC7A00 } /* Comment.Preproc */
body .cpf { color: #408080; font-style: italic } /* Comment.PreprocFile */
body .c1 { color: #408080; font-style: italic } /* Comment.Single */
body .cs { color: #408080; font-style: italic } /* Comment.Special */
body .gd { color: #A00000 } /* Generic.Deleted */
body .ge { font-style: italic } /* Generic.Emph */
body .gr { color: #FF0000 } /* Generic.Error */
body .gh { color: #000080; font-weight: bold } /* Generic.Heading */
body .gi { color: #00A000 } /* Generic.Inserted */
body .go { color: #888888 } /* Generic.Output */
body .gp { color: #000080; font-weight: bold } /* Generic.Prompt */
body .gs { font-weight: bold } /* Generic.Strong */
body .gu { color: #800080; font-weight: bold } /* Generic.Subheading */
body .gt { color: #0044DD } /* Generic.Traceback */
body .kc { color: #008000; font-weight: bold } /* Keyword.Constant */
body .kd { color: #008000; font-weight: bold } /* Keyword.Declaration */
body .kn { color: #008000; font-weight: bold } /* Keyword.Namespace */
body .kp { color: #008000 } /* Keyword.Pseudo */
body .kr { color: #008000; font-weight: bold } /* Keyword.Reserved */
body .kt { color: #B00040 } /* Keyword.Type */
body .m { color: #666666 } /* Literal.Number */
body .s { color: #BA2121 } /* Literal.String */
body .na { color: #7D9029 } /* Name.Attribute */
body .nb { color: #008000 } /* Name.Builtin */
body .nc { color: #0000FF; font-weight: bold } /* Name.Class */
body .no { color: #880000 } /* Name.Constant */
body .nd { color: #AA22FF } /* Name.Decorator */
body .ni { color: #999999; font-weight: bold } /* Name.Entity */
body .ne { color: #D2413A; font-weight: bold } /* Name.Exception */
body .nf { color: #0000FF } /* Name.Function */
body .nl { color: #A0A000 } /* Name.Label */
body .nn { color: #0000FF; font-weight: bold } /* Name.Namespace */
body .nt { color: #008000; font-weight: bold } /* Name.Tag */
body .nv { color: #19177C } /* Name.Variable */
body .ow { color: #AA22FF; font-weight: bold } /* Operator.Word */
body .w { color: #bbbbbb } /* Text.Whitespace */
body .mb { color: #666666 } /* Literal.Number.Bin */
body .mf { color: #666666 } /* Literal.Number.Float */
body .mh { color: #666666 } /* Literal.Number.Hex */
body .mi { color: #666666 } /* Literal.Number.Integer */
body .mo { color: #666666 } /* Literal.Number.Oct */
body .sb { color: #BA2121 } /* Literal.String.Backtick */
body .sc { color: #BA2121 } /* Literal.String.Char */
body .sd { color: #BA2121; font-style: italic } /* Literal.String.Doc */
body .s2 { color: #BA2121 } /* Literal.String.Double */
body .se { color: #BB6622; font-weight: bold } /* Literal.String.Escape */
body .sh { color: #BA2121 } /* Literal.String.Heredoc */
body .si { color: #BB6688; font-weight: bold } /* Literal.String.Interpol */
body .sx { color: #008000 } /* Literal.String.Other */
body .sr { color: #BB6688 } /* Literal.String.Regex */
body .s1 { color: #BA2121 } /* Literal.String.Single */
body .ss { color: #19177C } /* Literal.String.Symbol */
body .bp { color: #008000 } /* Name.Builtin.Pseudo */
body .vc { color: #19177C } /* Name.Variable.Class */
body .vg { color: #19177C } /* Name.Variable.Global */
body .vi { color: #19177C } /* Name.Variable.Instance */
body .il { color: #666666 } /* Literal.Number.Integer.Long */

  </style>
</head>
<body>
<h2></h2>

<table class="sourcetable"><tr><td class="linenos"><div class="linenodiv"><pre><a href="#line-1">  1</a>
<a href="#line-2">  2</a>
<a href="#line-3">  3</a>
<a href="#line-4">  4</a>
<a href="#line-5">  5</a>
<a href="#line-6">  6</a>
<a href="#line-7">  7</a>
<a href="#line-8">  8</a>
<a href="#line-9">  9</a>
<a href="#line-10"> 10</a>
<a href="#line-11"> 11</a>
<a href="#line-12"> 12</a>
<a href="#line-13"> 13</a>
<a href="#line-14"> 14</a>
<a href="#line-15"> 15</a>
<a href="#line-16"> 16</a>
<a href="#line-17"> 17</a>
<a href="#line-18"> 18</a>
<a href="#line-19"> 19</a>
<a href="#line-20"> 20</a>
<a href="#line-21"> 21</a>
<a href="#line-22"> 22</a>
<a href="#line-23"> 23</a>
<a href="#line-24"> 24</a>
<a href="#line-25"> 25</a>
<a href="#line-26"> 26</a>
<a href="#line-27"> 27</a>
<a href="#line-28"> 28</a>
<a href="#line-29"> 29</a>
<a href="#line-30"> 30</a>
<a href="#line-31"> 31</a>
<a href="#line-32"> 32</a>
<a href="#line-33"> 33</a>
<a href="#line-34"> 34</a>
<a href="#line-35"> 35</a>
<a href="#line-36"> 36</a>
<a href="#line-37"> 37</a>
<a href="#line-38"> 38</a>
<a href="#line-39"> 39</a>
<a href="#line-40"> 40</a>
<a href="#line-41"> 41</a>
<a href="#line-42"> 42</a>
<a href="#line-43"> 43</a>
<a href="#line-44"> 44</a>
<a href="#line-45"> 45</a>
<a href="#line-46"> 46</a>
<a href="#line-47"> 47</a>
<a href="#line-48"> 48</a>
<a href="#line-49"> 49</a>
<a href="#line-50"> 50</a>
<a href="#line-51"> 51</a>
<a href="#line-52"> 52</a>
<a href="#line-53"> 53</a>
<a href="#line-54"> 54</a>
<a href="#line-55"> 55</a>
<a href="#line-56"> 56</a>
<a href="#line-57"> 57</a>
<a href="#line-58"> 58</a>
<a href="#line-59"> 59</a>
<a href="#line-60"> 60</a>
<a href="#line-61"> 61</a>
<a href="#line-62"> 62</a>
<a href="#line-63"> 63</a>
<a href="#line-64"> 64</a>
<a href="#line-65"> 65</a>
<a href="#line-66"> 66</a>
<a href="#line-67"> 67</a>
<a href="#line-68"> 68</a>
<a href="#line-69"> 69</a>
<a href="#line-70"> 70</a>
<a href="#line-71"> 71</a>
<a href="#line-72"> 72</a>
<a href="#line-73"> 73</a>
<a href="#line-74"> 74</a>
<a href="#line-75"> 75</a>
<a href="#line-76"> 76</a>
<a href="#line-77"> 77</a>
<a href="#line-78"> 78</a>
<a href="#line-79"> 79</a>
<a href="#line-80"> 80</a>
<a href="#line-81"> 81</a>
<a href="#line-82"> 82</a>
<a href="#line-83"> 83</a>
<a href="#line-84"> 84</a>
<a href="#line-85"> 85</a>
<a href="#line-86"> 86</a>
<a href="#line-87"> 87</a>
<a href="#line-88"> 88</a>
<a href="#line-89"> 89</a>
<a href="#line-90"> 90</a>
<a href="#line-91"> 91</a>
<a href="#line-92"> 92</a>
<a href="#line-93"> 93</a>
<a href="#line-94"> 94</a>
<a href="#line-95"> 95</a>
<a href="#line-96"> 96</a>
<a href="#line-97"> 97</a>
<a href="#line-98"> 98</a>
<a href="#line-99"> 99</a>
<a href="#line-100">100</a>
<a href="#line-101">101</a>
<a href="#line-102">102</a>
<a href="#line-103">103</a>
<a href="#line-104">104</a>
<a href="#line-105">105</a>
<a href="#line-106">106</a>
<a href="#line-107">107</a>
<a href="#line-108">108</a>
<a href="#line-109">109</a>
<a href="#line-110">110</a>
<a href="#line-111">111</a>
<a href="#line-112">112</a>
<a href="#line-113">113</a>
<a href="#line-114">114</a>
<a href="#line-115">115</a>
<a href="#line-116">116</a>
<a href="#line-117">117</a>
<a href="#line-118">118</a>
<a href="#line-119">119</a>
<a href="#line-120">120</a>
<a href="#line-121">121</a>
<a href="#line-122">122</a>
<a href="#line-123">123</a>
<a href="#line-124">124</a>
<a href="#line-125">125</a>
<a href="#line-126">126</a>
<a href="#line-127">127</a>
<a href="#line-128">128</a>
<a href="#line-129">129</a>
<a href="#line-130">130</a>
<a href="#line-131">131</a>
<a href="#line-132">132</a>
<a href="#line-133">133</a>
<a href="#line-134">134</a>
<a href="#line-135">135</a>
<a href="#line-136">136</a>
<a href="#line-137">137</a>
<a href="#line-138">138</a>
<a href="#line-139">139</a>
<a href="#line-140">140</a>
<a href="#line-141">141</a>
<a href="#line-142">142</a>
<a href="#line-143">143</a>
<a href="#line-144">144</a>
<a href="#line-145">145</a>
<a href="#line-146">146</a>
<a href="#line-147">147</a>
<a href="#line-148">148</a>
<a href="#line-149">149</a>
<a href="#line-150">150</a>
<a href="#line-151">151</a>
<a href="#line-152">152</a>
<a href="#line-153">153</a>
<a href="#line-154">154</a>
<a href="#line-155">155</a>
<a href="#line-156">156</a>
<a href="#line-157">157</a>
<a href="#line-158">158</a>
<a href="#line-159">159</a>
<a href="#line-160">160</a>
<a href="#line-161">161</a>
<a href="#line-162">162</a>
<a href="#line-163">163</a>
<a href="#line-164">164</a>
<a href="#line-165">165</a>
<a href="#line-166">166</a>
<a href="#line-167">167</a>
<a href="#line-168">168</a>
<a href="#line-169">169</a>
<a href="#line-170">170</a>
<a href="#line-171">171</a>
<a href="#line-172">172</a>
<a href="#line-173">173</a>
<a href="#line-174">174</a>
<a href="#line-175">175</a>
<a href="#line-176">176</a>
<a href="#line-177">177</a>
<a href="#line-178">178</a>
<a href="#line-179">179</a>
<a href="#line-180">180</a>
<a href="#line-181">181</a>
<a href="#line-182">182</a>
<a href="#line-183">183</a>
<a href="#line-184">184</a>
<a href="#line-185">185</a>
<a href="#line-186">186</a>
<a href="#line-187">187</a>
<a href="#line-188">188</a>
<a href="#line-189">189</a>
<a href="#line-190">190</a>
<a href="#line-191">191</a>
<a href="#line-192">192</a>
<a href="#line-193">193</a>
<a href="#line-194">194</a>
<a href="#line-195">195</a>
<a href="#line-196">196</a>
<a href="#line-197">197</a>
<a href="#line-198">198</a>
<a href="#line-199">199</a>
<a href="#line-200">200</a>
<a href="#line-201">201</a>
<a href="#line-202">202</a>
<a href="#line-203">203</a>
<a href="#line-204">204</a>
<a href="#line-205">205</a>
<a href="#line-206">206</a>
<a href="#line-207">207</a>
<a href="#line-208">208</a>
<a href="#line-209">209</a>
<a href="#line-210">210</a>
<a href="#line-211">211</a>
<a href="#line-212">212</a>
<a href="#line-213">213</a>
<a href="#line-214">214</a>
<a href="#line-215">215</a>
<a href="#line-216">216</a>
<a href="#line-217">217</a>
<a href="#line-218">218</a>
<a href="#line-219">219</a>
<a href="#line-220">220</a>
<a href="#line-221">221</a>
<a href="#line-222">222</a>
<a href="#line-223">223</a>
<a href="#line-224">224</a>
<a href="#line-225">225</a>
<a href="#line-226">226</a>
<a href="#line-227">227</a>
<a href="#line-228">228</a>
<a href="#line-229">229</a>
<a href="#line-230">230</a>
<a href="#line-231">231</a>
<a href="#line-232">232</a>
<a href="#line-233">233</a>
<a href="#line-234">234</a>
<a href="#line-235">235</a>
<a href="#line-236">236</a>
<a href="#line-237">237</a>
<a href="#line-238">238</a>
<a href="#line-239">239</a>
<a href="#line-240">240</a>
<a href="#line-241">241</a>
<a href="#line-242">242</a>
<a href="#line-243">243</a>
<a href="#line-244">244</a>
<a href="#line-245">245</a>
<a href="#line-246">246</a>
<a href="#line-247">247</a>
<a href="#line-248">248</a>
<a href="#line-249">249</a>
<a href="#line-250">250</a>
<a href="#line-251">251</a>
<a href="#line-252">252</a>
<a href="#line-253">253</a>
<a href="#line-254">254</a>
<a href="#line-255">255</a>
<a href="#line-256">256</a>
<a href="#line-257">257</a>
<a href="#line-258">258</a>
<a href="#line-259">259</a>
<a href="#line-260">260</a>
<a href="#line-261">261</a>
<a href="#line-262">262</a>
<a href="#line-263">263</a>
<a href="#line-264">264</a>
<a href="#line-265">265</a>
<a href="#line-266">266</a>
<a href="#line-267">267</a>
<a href="#line-268">268</a>
<a href="#line-269">269</a>
<a href="#line-270">270</a>
<a href="#line-271">271</a>
<a href="#line-272">272</a>
<a href="#line-273">273</a>
<a href="#line-274">274</a>
<a href="#line-275">275</a>
<a href="#line-276">276</a>
<a href="#line-277">277</a>
<a href="#line-278">278</a>
<a href="#line-279">279</a>
<a href="#line-280">280</a>
<a href="#line-281">281</a>
<a href="#line-282">282</a>
<a href="#line-283">283</a>
<a href="#line-284">284</a>
<a href="#line-285">285</a>
<a href="#line-286">286</a>
<a href="#line-287">287</a>
<a href="#line-288">288</a>
<a href="#line-289">289</a>
<a href="#line-290">290</a>
<a href="#line-291">291</a>
<a href="#line-292">292</a>
<a href="#line-293">293</a>
<a href="#line-294">294</a>
<a href="#line-295">295</a>
<a href="#line-296">296</a>
<a href="#line-297">297</a>
<a href="#line-298">298</a>
<a href="#line-299">299</a>
<a href="#line-300">300</a>
<a href="#line-301">301</a>
<a href="#line-302">302</a>
<a href="#line-303">303</a>
<a href="#line-304">304</a>
<a href="#line-305">305</a>
<a href="#line-306">306</a>
<a href="#line-307">307</a>
<a href="#line-308">308</a>
<a href="#line-309">309</a>
<a href="#line-310">310</a>
<a href="#line-311">311</a>
<a href="#line-312">312</a>
<a href="#line-313">313</a>
<a href="#line-314">314</a>
<a href="#line-315">315</a>
<a href="#line-316">316</a>
<a href="#line-317">317</a>
<a href="#line-318">318</a>
<a href="#line-319">319</a>
<a href="#line-320">320</a>
<a href="#line-321">321</a>
<a href="#line-322">322</a>
<a href="#line-323">323</a>
<a href="#line-324">324</a>
<a href="#line-325">325</a>
<a href="#line-326">326</a>
<a href="#line-327">327</a>
<a href="#line-328">328</a>
<a href="#line-329">329</a>
<a href="#line-330">330</a>
<a href="#line-331">331</a>
<a href="#line-332">332</a>
<a href="#line-333">333</a>
<a href="#line-334">334</a>
<a href="#line-335">335</a>
<a href="#line-336">336</a>
<a href="#line-337">337</a>
<a href="#line-338">338</a>
<a href="#line-339">339</a>
<a href="#line-340">340</a>
<a href="#line-341">341</a>
<a href="#line-342">342</a>
<a href="#line-343">343</a>
<a href="#line-344">344</a>
<a href="#line-345">345</a>
<a href="#line-346">346</a>
<a href="#line-347">347</a>
<a href="#line-348">348</a>
<a href="#line-349">349</a>
<a href="#line-350">350</a>
<a href="#line-351">351</a>
<a href="#line-352">352</a>
<a href="#line-353">353</a>
<a href="#line-354">354</a>
<a href="#line-355">355</a>
<a href="#line-356">356</a>
<a href="#line-357">357</a>
<a href="#line-358">358</a>
<a href="#line-359">359</a>
<a href="#line-360">360</a>
<a href="#line-361">361</a>
<a href="#line-362">362</a>
<a href="#line-363">363</a>
<a href="#line-364">364</a>
<a href="#line-365">365</a>
<a href="#line-366">366</a>
<a href="#line-367">367</a>
<a href="#line-368">368</a>
<a href="#line-369">369</a>
<a href="#line-370">370</a>
<a href="#line-371">371</a>
<a href="#line-372">372</a>
<a href="#line-373">373</a>
<a href="#line-374">374</a>
<a href="#line-375">375</a>
<a href="#line-376">376</a>
<a href="#line-377">377</a>
<a href="#line-378">378</a>
<a href="#line-379">379</a>
<a href="#line-380">380</a>
<a href="#line-381">381</a>
<a href="#line-382">382</a>
<a href="#line-383">383</a>
<a href="#line-384">384</a>
<a href="#line-385">385</a>
<a href="#line-386">386</a>
<a href="#line-387">387</a>
<a href="#line-388">388</a>
<a href="#line-389">389</a>
<a href="#line-390">390</a>
<a href="#line-391">391</a>
<a href="#line-392">392</a>
<a href="#line-393">393</a>
<a href="#line-394">394</a>
<a href="#line-395">395</a>
<a href="#line-396">396</a>
<a href="#line-397">397</a>
<a href="#line-398">398</a>
<a href="#line-399">399</a>
<a href="#line-400">400</a>
<a href="#line-401">401</a>
<a href="#line-402">402</a>
<a href="#line-403">403</a>
<a href="#line-404">404</a>
<a href="#line-405">405</a>
<a href="#line-406">406</a>
<a href="#line-407">407</a>
<a href="#line-408">408</a>
<a href="#line-409">409</a>
<a href="#line-410">410</a>
<a href="#line-411">411</a>
<a href="#line-412">412</a>
<a href="#line-413">413</a>
<a href="#line-414">414</a>
<a href="#line-415">415</a>
<a href="#line-416">416</a>
<a href="#line-417">417</a>
<a href="#line-418">418</a>
<a href="#line-419">419</a>
<a href="#line-420">420</a>
<a href="#line-421">421</a>
<a href="#line-422">422</a>
<a href="#line-423">423</a>
<a href="#line-424">424</a>
<a href="#line-425">425</a>
<a href="#line-426">426</a>
<a href="#line-427">427</a>
<a href="#line-428">428</a>
<a href="#line-429">429</a>
<a href="#line-430">430</a>
<a href="#line-431">431</a>
<a href="#line-432">432</a>
<a href="#line-433">433</a>
<a href="#line-434">434</a>
<a href="#line-435">435</a>
<a href="#line-436">436</a>
<a href="#line-437">437</a>
<a href="#line-438">438</a>
<a href="#line-439">439</a>
<a href="#line-440">440</a>
<a href="#line-441">441</a>
<a href="#line-442">442</a>
<a href="#line-443">443</a>
<a href="#line-444">444</a>
<a href="#line-445">445</a>
<a href="#line-446">446</a>
<a href="#line-447">447</a>
<a href="#line-448">448</a>
<a href="#line-449">449</a>
<a href="#line-450">450</a>
<a href="#line-451">451</a>
<a href="#line-452">452</a>
<a href="#line-453">453</a>
<a href="#line-454">454</a>
<a href="#line-455">455</a>
<a href="#line-456">456</a>
<a href="#line-457">457</a>
<a href="#line-458">458</a>
<a href="#line-459">459</a>
<a href="#line-460">460</a>
<a href="#line-461">461</a>
<a href="#line-462">462</a>
<a href="#line-463">463</a>
<a href="#line-464">464</a>
<a href="#line-465">465</a>
<a href="#line-466">466</a>
<a href="#line-467">467</a>
<a href="#line-468">468</a>
<a href="#line-469">469</a>
<a href="#line-470">470</a>
<a href="#line-471">471</a>
<a href="#line-472">472</a>
<a href="#line-473">473</a>
<a href="#line-474">474</a>
<a href="#line-475">475</a>
<a href="#line-476">476</a>
<a href="#line-477">477</a>
<a href="#line-478">478</a>
<a href="#line-479">479</a>
<a href="#line-480">480</a>
<a href="#line-481">481</a>
<a href="#line-482">482</a>
<a href="#line-483">483</a>
<a href="#line-484">484</a>
<a href="#line-485">485</a>
<a href="#line-486">486</a>
<a href="#line-487">487</a>
<a href="#line-488">488</a>
<a href="#line-489">489</a>
<a href="#line-490">490</a>
<a href="#line-491">491</a>
<a href="#line-492">492</a>
<a href="#line-493">493</a>
<a href="#line-494">494</a>
<a href="#line-495">495</a>
<a href="#line-496">496</a>
<a href="#line-497">497</a>
<a href="#line-498">498</a>
<a href="#line-499">499</a>
<a href="#line-500">500</a>
<a href="#line-501">501</a>
<a href="#line-502">502</a>
<a href="#line-503">503</a>
<a href="#line-504">504</a>
<a href="#line-505">505</a>
<a href="#line-506">506</a>
<a href="#line-507">507</a>
<a href="#line-508">508</a>
<a href="#line-509">509</a>
<a href="#line-510">510</a>
<a href="#line-511">511</a>
<a href="#line-512">512</a>
<a href="#line-513">513</a>
<a href="#line-514">514</a>
<a href="#line-515">515</a>
<a href="#line-516">516</a>
<a href="#line-517">517</a>
<a href="#line-518">518</a>
<a href="#line-519">519</a>
<a href="#line-520">520</a>
<a href="#line-521">521</a>
<a href="#line-522">522</a>
<a href="#line-523">523</a>
<a href="#line-524">524</a>
<a href="#line-525">525</a>
<a href="#line-526">526</a>
<a href="#line-527">527</a>
<a href="#line-528">528</a>
<a href="#line-529">529</a>
<a href="#line-530">530</a>
<a href="#line-531">531</a>
<a href="#line-532">532</a>
<a href="#line-533">533</a>
<a href="#line-534">534</a>
<a href="#line-535">535</a>
<a href="#line-536">536</a>
<a href="#line-537">537</a>
<a href="#line-538">538</a>
<a href="#line-539">539</a></pre></div></td><td class="code"><div class="source"><span class="filename">Tools/iobench/iobench.py</span><pre><span></span><a name="line-1"></a><span class="c1"># -*- coding: utf-8 -*-</span>
<a name="line-2"></a><span class="c1"># This file should be kept compatible with both Python 2.6 and Python &gt;= 3.0.</span>
<a name="line-3"></a>
<a name="line-4"></a><span class="kn">import</span> <span class="nn"><a href="/./Demo/classes/Dates.py.html#line-173">time</a></span>
<a name="line-5"></a><span class="kn">import</span> <span class="nn"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span>
<a name="line-6"></a><span class="kn">import</span> <span class="nn"><a href="/./Demo/cgi/wiki.py.html#line-3">re</a></span>
<a name="line-7"></a><span class="kn">import</span> <span class="nn"><a href="/./Demo/cgi/wiki.py.html#line-3">sys</a></span>
<a name="line-8"></a><span class="kn">import</span> <span class="nn"><a href="/./Lib/hmac.py.html#line-44">hashlib</a></span>
<a name="line-9"></a><span class="kn">import</span> <span class="nn"><a href="/./Lib/locale.py.html#line-19">functools</a></span>
<a name="line-10"></a><span class="kn">import</span> <span class="nn"><a href="/./Lib/lib2to3/btm_matcher.py.html#line-11">itertools</a></span>
<a name="line-11"></a><span class="kn">from</span> <span class="nn"><a href="/./Lib/calendar.py.html#line-621">optparse</a></span> <span class="kn">import</span> <span class="n"><a href="/./Doc/includes/email-dir.py.html#line-11">OptionParser</a></span>
<a name="line-12"></a>
<a name="line-13"></a><span class="n"><a href="/./Modules/zlib/gzguts.h.html#line-174">out</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">sys</a></span><span class="o">.</span><span class="n"><a href="/./Lib/test/test_gdb.py.html#line-627">stdout</a></span>
<a name="line-14"></a>
<a name="line-15"></a><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-15">TEXT_ENCODING</a></span> <span class="o">=</span> <span class="s1">&#39;utf8&#39;</span>
<a name="line-16"></a><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-16">NEWLINES</a></span> <span class="o">=</span> <span class="s1">&#39;lf&#39;</span>
<a name="line-17"></a>
<a name="line-18"></a><span class="c1"># Compatibility</span>
<a name="line-19"></a><span class="k">try</span><span class="p">:</span>
<a name="line-20"></a>    <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span>
<a name="line-21"></a><span class="k">except</span> <span class="ne">NameError</span><span class="p">:</span>
<a name="line-22"></a>    <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span> <span class="o">=</span> <span class="nb">range</span>
<a name="line-23"></a>
<a name="line-24"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-24">text_open</a></span><span class="p">(</span><span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/scripts/script.py.html#line-20">mode</a></span><span class="p">,</span> <span class="n"><a href="/./Include/pyerrors.h.html#line-35">encoding</a></span><span class="o">=</span><span class="bp"><a href="/./Lib/lib2to3/fixes/fix_exitfunc.py.html#line-35">None</a></span><span class="p">):</span>
<a name="line-25"></a>    <span class="k">try</span><span class="p">:</span>
<a name="line-26"></a>        <span class="k">return</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/scripts/script.py.html#line-20">mode</a></span><span class="p">,</span> <span class="n"><a href="/./Include/pyerrors.h.html#line-35">encoding</a></span><span class="o">=</span><span class="n"><a href="/./Include/pyerrors.h.html#line-35">encoding</a></span> <span class="ow">or</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-15">TEXT_ENCODING</a></span><span class="p">)</span>
<a name="line-27"></a>    <span class="k">except</span> <span class="ne">TypeError</span><span class="p">:</span>
<a name="line-28"></a>        <span class="k">return</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/scripts/script.py.html#line-20">mode</a></span><span class="p">)</span>
<a name="line-29"></a>
<a name="line-30"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-30">get_file_sizes</a></span><span class="p">():</span>
<a name="line-31"></a>    <span class="k">for</span> <span class="n"><a href="/./Demo/pdist/cmptree.py.html#line-26">s</a></span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;20 KB&#39;</span><span class="p">,</span> <span class="s1">&#39;400 KB&#39;</span><span class="p">,</span> <span class="s1">&#39;10 MB&#39;</span><span class="p">]:</span>
<a name="line-32"></a>        <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">,</span> <span class="n">unit</span> <span class="o">=</span> <span class="n"><a href="/./Demo/pdist/cmptree.py.html#line-26">s</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tkinter/guido/kill.py.html#line-6">split</a></span><span class="p">()</span>
<a name="line-33"></a>        <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="o">=</span> <span class="nb"><a href="/./Lib/plat-irix5/IOCTL.py.html#line-25">int</a></span><span class="p">(</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">)</span> <span class="o">*</span> <span class="p">{</span><span class="s1">&#39;KB&#39;</span><span class="p">:</span> <span class="mi">1024</span><span class="p">,</span> <span class="s1">&#39;MB&#39;</span><span class="p">:</span> <span class="mi">1024</span> <span class="o">**</span> <span class="mi">2</span><span class="p">}[</span><span class="n">unit</span><span class="p">]</span>
<a name="line-34"></a>        <span class="k">yield</span> <span class="n"><a href="/./Demo/pdist/cmptree.py.html#line-26">s</a></span><span class="o">.</span><span class="n"><a href="/./Demo/turtle/tdemo_lindenmayer_indian.py.html#line-30">replace</a></span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="p">,</span> <span class="s1">&#39;&#39;</span><span class="p">),</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span>
<a name="line-35"></a>
<a name="line-36"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-36">get_binary_files</a></span><span class="p">():</span>
<a name="line-37"></a>    <span class="k">return</span> <span class="p">((</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span> <span class="o">+</span> <span class="s2">&quot;.bin&quot;</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">)</span> <span class="k">for</span> <span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="ow">in</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-30">get_file_sizes</a></span><span class="p">())</span>
<a name="line-38"></a>
<a name="line-39"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-39">get_text_files</a></span><span class="p">():</span>
<a name="line-40"></a>    <span class="k">return</span> <span class="p">((</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">-</span><span class="si">%s</span><span class="s2">-</span><span class="si">%s</span><span class="s2">.txt&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-15">TEXT_ENCODING</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-16">NEWLINES</a></span><span class="p">),</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">)</span>
<a name="line-41"></a>        <span class="k">for</span> <span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="ow">in</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-30">get_file_sizes</a></span><span class="p">())</span>
<a name="line-42"></a>
<a name="line-43"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-43">with_open_mode</a></span><span class="p">(</span><span class="n"><a href="/./Demo/scripts/script.py.html#line-20">mode</a></span><span class="p">):</span>
<a name="line-44"></a>    <span class="k">def</span> <span class="nf"><a href="/./Lib/test/test_contextlib.py.html#line-87">decorate</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-45"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n">file_open_mode</span> <span class="o">=</span> <span class="n"><a href="/./Demo/scripts/script.py.html#line-20">mode</a></span>
<a name="line-46"></a>        <span class="k">return</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span>
<a name="line-47"></a>    <span class="k">return</span> <span class="n"><a href="/./Lib/test/test_contextlib.py.html#line-87">decorate</a></span>
<a name="line-48"></a>
<a name="line-49"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-49">with_sizes</a></span><span class="p">(</span><span class="o">*</span><span class="n"><a href="/./Mac/Modules/snd/_Sndihooks.c.html#line-44">sizes</a></span><span class="p">):</span>
<a name="line-50"></a>    <span class="k">def</span> <span class="nf"><a href="/./Lib/test/test_contextlib.py.html#line-87">decorate</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-51"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n">file_sizes</span> <span class="o">=</span> <span class="n"><a href="/./Mac/Modules/snd/_Sndihooks.c.html#line-44">sizes</a></span>
<a name="line-52"></a>        <span class="k">return</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span>
<a name="line-53"></a>    <span class="k">return</span> <span class="n"><a href="/./Lib/test/test_contextlib.py.html#line-87">decorate</a></span>
<a name="line-54"></a>
<a name="line-55"></a>
<a name="line-56"></a><span class="c1"># Here begin the tests</span>
<a name="line-57"></a>
<a name="line-58"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<a name="line-59"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-60"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-60">read_bytewise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-61"></a>    <span class="sd">&quot;&quot;&quot; read one unit at a time &quot;&quot;&quot;</span>
<a name="line-62"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-63"></a>    <span class="k">while</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
<a name="line-64"></a>        <span class="k">pass</span>
<a name="line-65"></a>
<a name="line-66"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<a name="line-67"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-68"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-68">read_small_chunks</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-69"></a>    <span class="sd">&quot;&quot;&quot; read 20 units at a time &quot;&quot;&quot;</span>
<a name="line-70"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-71"></a>    <span class="k">while</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">(</span><span class="mi">20</span><span class="p">):</span>
<a name="line-72"></a>        <span class="k">pass</span>
<a name="line-73"></a>
<a name="line-74"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<a name="line-75"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-76"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-76">read_big_chunks</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-77"></a>    <span class="sd">&quot;&quot;&quot; read 4096 units at a time &quot;&quot;&quot;</span>
<a name="line-78"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-79"></a>    <span class="k">while</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">(</span><span class="mi">4096</span><span class="p">):</span>
<a name="line-80"></a>        <span class="k">pass</span>
<a name="line-81"></a>
<a name="line-82"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<a name="line-83"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;small&quot;</span><span class="p">,</span> <span class="s2">&quot;medium&quot;</span><span class="p">,</span> <span class="s2">&quot;large&quot;</span><span class="p">)</span>
<a name="line-84"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-84">read_whole_file</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-85"></a>    <span class="sd">&quot;&quot;&quot; read whole contents at once &quot;&quot;&quot;</span>
<a name="line-86"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-87"></a>    <span class="k">while</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">():</span>
<a name="line-88"></a>        <span class="k">pass</span>
<a name="line-89"></a>
<a name="line-90"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;rt&quot;</span><span class="p">)</span>
<a name="line-91"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-92"></a><span class="k">def</span> <span class="nf"><a href="/./Lib/cgi.py.html#line-664">read_lines</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-93"></a>    <span class="sd">&quot;&quot;&quot; read one line at a time &quot;&quot;&quot;</span>
<a name="line-94"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-95"></a>    <span class="k">for</span> <span class="n"><a href="/./Demo/scripts/from.py.html#line-23">line</a></span> <span class="ow">in</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-96"></a>        <span class="k">pass</span>
<a name="line-97"></a>
<a name="line-98"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<a name="line-99"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-100"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-100">seek_forward_bytewise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-101"></a>    <span class="sd">&quot;&quot;&quot; seek forward one unit at a time &quot;&quot;&quot;</span>
<a name="line-102"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a name="line-103"></a>    <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-114">tell</a></span><span class="p">()</span>
<a name="line-104"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a name="line-105"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span>
<a name="line-106"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a name="line-107"></a>
<a name="line-108"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;r&quot;</span><span class="p">)</span>
<a name="line-109"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-110"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-110">seek_forward_blockwise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-111"></a>    <span class="sd">&quot;&quot;&quot; seek forward 1000 units at a time &quot;&quot;&quot;</span>
<a name="line-112"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
<a name="line-113"></a>    <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-114">tell</a></span><span class="p">()</span>
<a name="line-114"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a name="line-115"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1000</span><span class="p">):</span>
<a name="line-116"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<a name="line-117"></a>
<a name="line-118"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span>
<a name="line-119"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-120"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-120">read_seek_bytewise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-121"></a>    <span class="sd">&quot;&quot;&quot; alternate read &amp; seek one unit &quot;&quot;&quot;</span>
<a name="line-122"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-123"></a>    <span class="k">while</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">(</span><span class="mi">1</span><span class="p">):</span>
<a name="line-124"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a name="line-125"></a>
<a name="line-126"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;rb&quot;</span><span class="p">)</span>
<a name="line-127"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-128"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-128">read_seek_blockwise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">):</span>
<a name="line-129"></a>    <span class="sd">&quot;&quot;&quot; alternate read &amp; seek 1000 units &quot;&quot;&quot;</span>
<a name="line-130"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-131"></a>    <span class="k">while</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">(</span><span class="mi">1000</span><span class="p">):</span>
<a name="line-132"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<a name="line-133"></a>
<a name="line-134"></a>
<a name="line-135"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<a name="line-136"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;small&quot;</span><span class="p">)</span>
<a name="line-137"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-137">write_bytewise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-138"></a>    <span class="sd">&quot;&quot;&quot; write one unit at a time &quot;&quot;&quot;</span>
<a name="line-139"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">)):</span>
<a name="line-140"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
<a name="line-141"></a>
<a name="line-142"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<a name="line-143"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-144"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-144">write_small_chunks</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-145"></a>    <span class="sd">&quot;&quot;&quot; write 20 units at a time &quot;&quot;&quot;</span>
<a name="line-146"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">),</span> <span class="mi">20</span><span class="p">):</span>
<a name="line-147"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">20</span><span class="p">])</span>
<a name="line-148"></a>
<a name="line-149"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<a name="line-150"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-151"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-151">write_medium_chunks</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-152"></a>    <span class="sd">&quot;&quot;&quot; write 4096 units at a time &quot;&quot;&quot;</span>
<a name="line-153"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">),</span> <span class="mi">4096</span><span class="p">):</span>
<a name="line-154"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">4096</span><span class="p">])</span>
<a name="line-155"></a>
<a name="line-156"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<a name="line-157"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;large&quot;</span><span class="p">)</span>
<a name="line-158"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-158">write_large_chunks</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-159"></a>    <span class="sd">&quot;&quot;&quot; write 1e6 units at a time &quot;&quot;&quot;</span>
<a name="line-160"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">),</span> <span class="mi">1000000</span><span class="p">):</span>
<a name="line-161"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">1000000</span><span class="p">])</span>
<a name="line-162"></a>
<a name="line-163"></a>
<a name="line-164"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;w+&quot;</span><span class="p">)</span>
<a name="line-165"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;small&quot;</span><span class="p">)</span>
<a name="line-166"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-166">modify_bytewise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-167"></a>    <span class="sd">&quot;&quot;&quot; modify one unit at a time &quot;&quot;&quot;</span>
<a name="line-168"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-169"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">)):</span>
<a name="line-170"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
<a name="line-171"></a>
<a name="line-172"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;w+&quot;</span><span class="p">)</span>
<a name="line-173"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-174"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-174">modify_small_chunks</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-175"></a>    <span class="sd">&quot;&quot;&quot; modify 20 units at a time &quot;&quot;&quot;</span>
<a name="line-176"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-177"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">),</span> <span class="mi">20</span><span class="p">):</span>
<a name="line-178"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">20</span><span class="p">])</span>
<a name="line-179"></a>
<a name="line-180"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;w+&quot;</span><span class="p">)</span>
<a name="line-181"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-182"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-182">modify_medium_chunks</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-183"></a>    <span class="sd">&quot;&quot;&quot; modify 4096 units at a time &quot;&quot;&quot;</span>
<a name="line-184"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-185"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">),</span> <span class="mi">4096</span><span class="p">):</span>
<a name="line-186"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">4096</span><span class="p">])</span>
<a name="line-187"></a>
<a name="line-188"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;wb+&quot;</span><span class="p">)</span>
<a name="line-189"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-190"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-190">modify_seek_forward_bytewise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-191"></a>    <span class="sd">&quot;&quot;&quot; alternate write &amp; seek one unit &quot;&quot;&quot;</span>
<a name="line-192"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-193"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">),</span> <span class="mi">2</span><span class="p">):</span>
<a name="line-194"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">1</span><span class="p">])</span>
<a name="line-195"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">2</span><span class="p">)</span>
<a name="line-196"></a>
<a name="line-197"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;wb+&quot;</span><span class="p">)</span>
<a name="line-198"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-199"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-199">modify_seek_forward_blockwise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-200"></a>    <span class="sd">&quot;&quot;&quot; alternate write &amp; seek 1000 units &quot;&quot;&quot;</span>
<a name="line-201"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-202"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">),</span> <span class="mi">2000</span><span class="p">):</span>
<a name="line-203"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">1000</span><span class="p">])</span>
<a name="line-204"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">2000</span><span class="p">)</span>
<a name="line-205"></a>
<a name="line-206"></a><span class="c1"># XXX the 2 following tests don&#39;t work with py3k&#39;s text IO</span>
<a name="line-207"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;wb+&quot;</span><span class="p">)</span>
<a name="line-208"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-209"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-209">read_modify_bytewise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-210"></a>    <span class="sd">&quot;&quot;&quot; alternate read &amp; write one unit &quot;&quot;&quot;</span>
<a name="line-211"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-212"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">),</span> <span class="mi">2</span><span class="p">):</span>
<a name="line-213"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<a name="line-214"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">1</span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">2</span><span class="p">])</span>
<a name="line-215"></a>
<a name="line-216"></a><span class="nd">@with_open_mode</span><span class="p">(</span><span class="s2">&quot;wb+&quot;</span><span class="p">)</span>
<a name="line-217"></a><span class="nd">@with_sizes</span><span class="p">(</span><span class="s2">&quot;medium&quot;</span><span class="p">)</span>
<a name="line-218"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-218">read_modify_blockwise</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">):</span>
<a name="line-219"></a>    <span class="sd">&quot;&quot;&quot; alternate read &amp; write 1000 units &quot;&quot;&quot;</span>
<a name="line-220"></a>    <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-95">seek</a></span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<a name="line-221"></a>    <span class="k">for</span> <span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span> <span class="ow">in</span> <span class="nb"><a href="/./Tools/ccbench/ccbench.py.html#line-26">xrange</a></span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">),</span> <span class="mi">2000</span><span class="p">):</span>
<a name="line-222"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">(</span><span class="mi">1000</span><span class="p">)</span>
<a name="line-223"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Modules/itertoolsmodule.c.html#line-1643">source</a></span><span class="p">[</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">1000</span><span class="p">:</span><span class="n"><a href="/./Lib/test/crashers/borrowed_ref_2.py.html#line-33">i</a></span><span class="o">+</span><span class="mi">2000</span><span class="p">])</span>
<a name="line-224"></a>
<a name="line-225"></a>
<a name="line-226"></a><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-226">read_tests</a></span> <span class="o">=</span> <span class="p">[</span>
<a name="line-227"></a>    <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-60">read_bytewise</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-68">read_small_chunks</a></span><span class="p">,</span> <span class="n"><a href="/./Lib/cgi.py.html#line-664">read_lines</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-76">read_big_chunks</a></span><span class="p">,</span>
<a name="line-228"></a>    <span class="bp"><a href="/./Lib/lib2to3/fixes/fix_exitfunc.py.html#line-35">None</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-84">read_whole_file</a></span><span class="p">,</span> <span class="bp"><a href="/./Lib/lib2to3/fixes/fix_exitfunc.py.html#line-35">None</a></span><span class="p">,</span>
<a name="line-229"></a>    <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-100">seek_forward_bytewise</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-110">seek_forward_blockwise</a></span><span class="p">,</span>
<a name="line-230"></a>    <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-120">read_seek_bytewise</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-128">read_seek_blockwise</a></span><span class="p">,</span>
<a name="line-231"></a><span class="p">]</span>
<a name="line-232"></a>
<a name="line-233"></a><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-233">write_tests</a></span> <span class="o">=</span> <span class="p">[</span>
<a name="line-234"></a>    <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-137">write_bytewise</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-144">write_small_chunks</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-151">write_medium_chunks</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-158">write_large_chunks</a></span><span class="p">,</span>
<a name="line-235"></a><span class="p">]</span>
<a name="line-236"></a>
<a name="line-237"></a><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-237">modify_tests</a></span> <span class="o">=</span> <span class="p">[</span>
<a name="line-238"></a>    <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-166">modify_bytewise</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-174">modify_small_chunks</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-182">modify_medium_chunks</a></span><span class="p">,</span>
<a name="line-239"></a>    <span class="bp"><a href="/./Lib/lib2to3/fixes/fix_exitfunc.py.html#line-35">None</a></span><span class="p">,</span>
<a name="line-240"></a>    <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-190">modify_seek_forward_bytewise</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-199">modify_seek_forward_blockwise</a></span><span class="p">,</span>
<a name="line-241"></a>    <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-209">read_modify_bytewise</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-218">read_modify_blockwise</a></span><span class="p">,</span>
<a name="line-242"></a><span class="p">]</span>
<a name="line-243"></a>
<a name="line-244"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-244">run_during</a></span><span class="p">(</span><span class="n">duration</span><span class="p">,</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-264">func</a></span><span class="p">):</span>
<a name="line-245"></a>    <span class="n">_t</span> <span class="o">=</span> <span class="n"><a href="/./Demo/classes/Dates.py.html#line-173">time</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/Dates.py.html#line-173">time</a></span>
<a name="line-246"></a>    <span class="n"><a href="/./Demo/scripts/beer.py.html#line-7">n</a></span> <span class="o">=</span> <span class="mi">0</span>
<a name="line-247"></a>    <span class="n"><a href="/./Demo/turtle/tdemo_penrose.py.html#line-128">start</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span><span class="o">.</span><span class="n"><a href="/./Lib/plat-mac/Carbon/Fonts.py.html#line-55">times</a></span><span class="p">()</span>
<a name="line-248"></a>    <span class="n">start_timestamp</span> <span class="o">=</span> <span class="n">_t</span><span class="p">()</span>
<a name="line-249"></a>    <span class="n">real_start</span> <span class="o">=</span> <span class="n"><a href="/./Demo/turtle/tdemo_penrose.py.html#line-128">start</a></span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="ow">or</span> <span class="n">start_timestamp</span>
<a name="line-250"></a>    <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<a name="line-251"></a>        <span class="n"><a href="/./Include/Python-ast.h.html#line-264">func</a></span><span class="p">()</span>
<a name="line-252"></a>        <span class="n"><a href="/./Demo/scripts/beer.py.html#line-7">n</a></span> <span class="o">+=</span> <span class="mi">1</span>
<a name="line-253"></a>        <span class="k">if</span> <span class="n">_t</span><span class="p">()</span> <span class="o">-</span> <span class="n">start_timestamp</span> <span class="o">&gt;</span> <span class="n">duration</span><span class="p">:</span>
<a name="line-254"></a>            <span class="k">break</span>
<a name="line-255"></a>    <span class="n"><a href="/./Doc/make.bat.html#line-123">end</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span><span class="o">.</span><span class="n"><a href="/./Lib/plat-mac/Carbon/Fonts.py.html#line-55">times</a></span><span class="p">()</span>
<a name="line-256"></a>    <span class="n"><a href="/./Include/complexobject.h.html#line-10">real</a></span> <span class="o">=</span> <span class="p">(</span><span class="n"><a href="/./Doc/make.bat.html#line-123">end</a></span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="k">if</span> <span class="n"><a href="/./Demo/turtle/tdemo_penrose.py.html#line-128">start</a></span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="k">else</span> <span class="n"><a href="/./Demo/classes/Dates.py.html#line-173">time</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/Dates.py.html#line-173">time</a></span><span class="p">())</span> <span class="o">-</span> <span class="n">real_start</span>
<a name="line-257"></a>    <span class="k">return</span> <span class="n"><a href="/./Demo/scripts/beer.py.html#line-7">n</a></span><span class="p">,</span> <span class="n"><a href="/./Include/complexobject.h.html#line-10">real</a></span><span class="p">,</span> <span class="nb"><a href="/./Demo/pdist/FSProxy.py.html#line-141">sum</a></span><span class="p">(</span><span class="n"><a href="/./Doc/make.bat.html#line-123">end</a></span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span> <span class="o">-</span> <span class="nb"><a href="/./Demo/pdist/FSProxy.py.html#line-141">sum</a></span><span class="p">(</span><span class="n"><a href="/./Demo/turtle/tdemo_penrose.py.html#line-128">start</a></span><span class="p">[</span><span class="mi">0</span><span class="p">:</span><span class="mi">2</span><span class="p">])</span>
<a name="line-258"></a>
<a name="line-259"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-259">warm_cache</a></span><span class="p">(</span><span class="n"><a href="/./Demo/scripts/script.py.html#line-19">filename</a></span><span class="p">):</span>
<a name="line-260"></a>    <span class="k">with</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Demo/scripts/script.py.html#line-19">filename</a></span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-261"></a>        <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">()</span>
<a name="line-262"></a>
<a name="line-263"></a>
<a name="line-264"></a><span class="k">def</span> <span class="nf"><a href="/./Lib/lib2to3/tests/support.py.html#line-25">run_all_tests</a></span><span class="p">(</span><span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">):</span>
<a name="line-265"></a>    <span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-265">print_label</a></span><span class="p">(</span><span class="n"><a href="/./Demo/scripts/script.py.html#line-19">filename</a></span><span class="p">,</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-264">func</a></span><span class="p">):</span>
<a name="line-266"></a>        <span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">re</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tkinter/guido/kill.py.html#line-6">split</a></span><span class="p">(</span><span class="s1">r&#39;[-.]&#39;</span><span class="p">,</span> <span class="n"><a href="/./Demo/scripts/script.py.html#line-19">filename</a></span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
<a name="line-267"></a>        <span class="n"><a href="/./Modules/zlib/gzguts.h.html#line-174">out</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span>
<a name="line-268"></a>            <span class="p">(</span><span class="s2">&quot;[</span><span class="si">%s</span><span class="s2">] </span><span class="si">%s</span><span class="s2">... &quot;</span>
<a name="line-269"></a>                <span class="o">%</span> <span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tkinter/guido/ss1.py.html#line-14">center</a></span><span class="p">(</span><span class="mi">7</span><span class="p">),</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-264">func</a></span><span class="o">.</span><span class="n"><a href="/./Lib/_pyio.py.html#line-254">__doc__</a></span><span class="o">.</span><span class="n"><a href="/./Lib/UserString.py.html#line-125">strip</a></span><span class="p">())</span>
<a name="line-270"></a>            <span class="p">)</span><span class="o">.</span><span class="n"><a href="/./Demo/tkinter/guido/ss1.py.html#line-12">ljust</a></span><span class="p">(</span><span class="mi">52</span><span class="p">))</span>
<a name="line-271"></a>        <span class="n"><a href="/./Modules/zlib/gzguts.h.html#line-174">out</a></span><span class="o">.</span><span class="n"><a href="/./Lib/StringIO.py.html#line-253">flush</a></span><span class="p">()</span>
<a name="line-272"></a>
<a name="line-273"></a>    <span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-273">print_results</a></span><span class="p">(</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/scripts/beer.py.html#line-7">n</a></span><span class="p">,</span> <span class="n"><a href="/./Include/complexobject.h.html#line-10">real</a></span><span class="p">,</span> <span class="n">cpu</span><span class="p">):</span>
<a name="line-274"></a>        <span class="n"><a href="/./Lib/idlelib/tabbedpages.py.html#line-178">bw</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/scripts/beer.py.html#line-7">n</a></span> <span class="o">*</span> <span class="nb"><a href="/./Tools/bgen/bgen/bgenType.py.html#line-192">float</a></span><span class="p">(</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">)</span> <span class="o">/</span> <span class="mi">1024</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">/</span> <span class="n"><a href="/./Include/complexobject.h.html#line-10">real</a></span>
<a name="line-275"></a>        <span class="n"><a href="/./Lib/idlelib/tabbedpages.py.html#line-178">bw</a></span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;</span><span class="si">%4d</span><span class="s2"> MB/s&quot;</span> <span class="k">if</span> <span class="n"><a href="/./Lib/idlelib/tabbedpages.py.html#line-178">bw</a></span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="k">else</span> <span class="s2">&quot;</span><span class="si">%.3g</span><span class="s2"> MB/s&quot;</span><span class="p">)</span> <span class="o">%</span> <span class="n"><a href="/./Lib/idlelib/tabbedpages.py.html#line-178">bw</a></span>
<a name="line-276"></a>        <span class="n"><a href="/./Modules/zlib/gzguts.h.html#line-174">out</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Lib/idlelib/tabbedpages.py.html#line-178">bw</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tkinter/guido/ss1.py.html#line-16">rjust</a></span><span class="p">(</span><span class="mi">12</span><span class="p">)</span> <span class="o">+</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a name="line-277"></a>        <span class="k">if</span> <span class="n">cpu</span> <span class="o">&lt;</span> <span class="mf">0.90</span> <span class="o">*</span> <span class="n"><a href="/./Include/complexobject.h.html#line-10">real</a></span><span class="p">:</span>
<a name="line-278"></a>            <span class="n"><a href="/./Modules/zlib/gzguts.h.html#line-174">out</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="s2">&quot;   warning: test above used only </span><span class="si">%d%%</span><span class="s2"> CPU, &quot;</span>
<a name="line-279"></a>                <span class="s2">&quot;result may be flawed!</span><span class="se">\n</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mf">100.0</span> <span class="o">*</span> <span class="n">cpu</span> <span class="o">/</span> <span class="n"><a href="/./Include/complexobject.h.html#line-10">real</a></span><span class="p">))</span>
<a name="line-280"></a>
<a name="line-281"></a>    <span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-281">run_one_test</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">,</span> <span class="n">open_func</span><span class="p">,</span> <span class="n"><a href="/./Modules/_ctypes/libffi/testsuite/libffi.call/cls_multi_uchar.c.html#line-40">test_func</a></span><span class="p">,</span> <span class="o">*</span><span class="n"><a href="/./Include/Python-ast.h.html#line-213">args</a></span><span class="p">):</span>
<a name="line-282"></a>        <span class="n"><a href="/./Demo/scripts/script.py.html#line-20">mode</a></span> <span class="o">=</span> <span class="n"><a href="/./Modules/_ctypes/libffi/testsuite/libffi.call/cls_multi_uchar.c.html#line-40">test_func</a></span><span class="o">.</span><span class="n">file_open_mode</span>
<a name="line-283"></a>        <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-265">print_label</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Modules/_ctypes/libffi/testsuite/libffi.call/cls_multi_uchar.c.html#line-40">test_func</a></span><span class="p">)</span>
<a name="line-284"></a>        <span class="k">if</span> <span class="s2">&quot;w&quot;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/scripts/script.py.html#line-20">mode</a></span> <span class="ow">or</span> <span class="s2">&quot;+&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/scripts/script.py.html#line-20">mode</a></span><span class="p">:</span>
<a name="line-285"></a>            <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-259">warm_cache</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">)</span>
<a name="line-286"></a>        <span class="k">with</span> <span class="n">open_func</span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">)</span> <span class="k">as</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-287"></a>            <span class="n"><a href="/./Demo/scripts/beer.py.html#line-7">n</a></span><span class="p">,</span> <span class="n"><a href="/./Include/complexobject.h.html#line-10">real</a></span><span class="p">,</span> <span class="n">cpu</span> <span class="o">=</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-244">run_during</a></span><span class="p">(</span><span class="mf">1.5</span><span class="p">,</span> <span class="k">lambda</span><span class="p">:</span> <span class="n"><a href="/./Modules/_ctypes/libffi/testsuite/libffi.call/cls_multi_uchar.c.html#line-40">test_func</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">,</span> <span class="o">*</span><span class="n"><a href="/./Include/Python-ast.h.html#line-213">args</a></span><span class="p">))</span>
<a name="line-288"></a>        <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-273">print_results</a></span><span class="p">(</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/scripts/beer.py.html#line-7">n</a></span><span class="p">,</span> <span class="n"><a href="/./Include/complexobject.h.html#line-10">real</a></span><span class="p">,</span> <span class="n">cpu</span><span class="p">)</span>
<a name="line-289"></a>
<a name="line-290"></a>    <span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-290">run_test_family</a></span><span class="p">(</span><span class="n"><a href="/./Lib/imghdr.py.html#line-33">tests</a></span><span class="p">,</span> <span class="n">mode_filter</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/rcsbump.html#line-19">files</a></span><span class="p">,</span> <span class="n">open_func</span><span class="p">,</span> <span class="o">*</span><span class="n">make_args</span><span class="p">):</span>
<a name="line-291"></a>        <span class="k">for</span> <span class="n"><a href="/./Modules/_ctypes/libffi/testsuite/libffi.call/cls_multi_uchar.c.html#line-40">test_func</a></span> <span class="ow">in</span> <span class="n"><a href="/./Lib/imghdr.py.html#line-33">tests</a></span><span class="p">:</span>
<a name="line-292"></a>            <span class="k">if</span> <span class="n"><a href="/./Modules/_ctypes/libffi/testsuite/libffi.call/cls_multi_uchar.c.html#line-40">test_func</a></span> <span class="ow">is</span> <span class="bp"><a href="/./Lib/lib2to3/fixes/fix_exitfunc.py.html#line-35">None</a></span><span class="p">:</span>
<a name="line-293"></a>                <span class="n"><a href="/./Modules/zlib/gzguts.h.html#line-174">out</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a name="line-294"></a>                <span class="k">continue</span>
<a name="line-295"></a>            <span class="k">if</span> <span class="n">mode_filter</span> <span class="ow">in</span> <span class="n"><a href="/./Modules/_ctypes/libffi/testsuite/libffi.call/cls_multi_uchar.c.html#line-40">test_func</a></span><span class="o">.</span><span class="n">file_open_mode</span><span class="p">:</span>
<a name="line-296"></a>                <span class="k">continue</span>
<a name="line-297"></a>            <span class="k">for</span> <span class="n"><a href="/./Demo/pdist/cmptree.py.html#line-26">s</a></span> <span class="ow">in</span> <span class="n"><a href="/./Modules/_ctypes/libffi/testsuite/libffi.call/cls_multi_uchar.c.html#line-40">test_func</a></span><span class="o">.</span><span class="n">file_sizes</span><span class="p">:</span>
<a name="line-298"></a>                <span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/pdist/rcsbump.html#line-19">files</a></span><span class="p">[</span><span class="n">size_names</span><span class="p">[</span><span class="n"><a href="/./Demo/pdist/cmptree.py.html#line-26">s</a></span><span class="p">]]</span>
<a name="line-299"></a>                <span class="c1">#name += file_ext</span>
<a name="line-300"></a>                <span class="n"><a href="/./Include/Python-ast.h.html#line-213">args</a></span> <span class="o">=</span> <span class="nb"><a href="/./Modules/_tkinter.c.html#line-3315">tuple</a></span><span class="p">(</span><span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">)</span> <span class="k">for</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span> <span class="ow">in</span> <span class="n">make_args</span><span class="p">)</span>
<a name="line-301"></a>                <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-281">run_one_test</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">,</span>
<a name="line-302"></a>                    <span class="n">open_func</span><span class="p">,</span> <span class="n"><a href="/./Modules/_ctypes/libffi/testsuite/libffi.call/cls_multi_uchar.c.html#line-40">test_func</a></span><span class="p">,</span> <span class="o">*</span><span class="n"><a href="/./Include/Python-ast.h.html#line-213">args</a></span><span class="p">)</span>
<a name="line-303"></a>
<a name="line-304"></a>    <span class="n">size_names</span> <span class="o">=</span> <span class="p">{</span>
<a name="line-305"></a>        <span class="s2">&quot;small&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
<a name="line-306"></a>        <span class="s2">&quot;medium&quot;</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
<a name="line-307"></a>        <span class="s2">&quot;large&quot;</span><span class="p">:</span> <span class="mi">2</span><span class="p">,</span>
<a name="line-308"></a>    <span class="p">}</span>
<a name="line-309"></a>
<a name="line-310"></a>    <span class="n">binary_files</span> <span class="o">=</span> <span class="nb"><a href="/./Demo/pdist/FSProxy.py.html#line-115">list</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-36">get_binary_files</a></span><span class="p">())</span>
<a name="line-311"></a>    <span class="n">text_files</span> <span class="o">=</span> <span class="nb"><a href="/./Demo/pdist/FSProxy.py.html#line-115">list</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-39">get_text_files</a></span><span class="p">())</span>
<a name="line-312"></a>    <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">:</span>
<a name="line-313"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Binary unit = one byte&quot;</span><span class="p">)</span>
<a name="line-314"></a>    <span class="k">if</span> <span class="s2">&quot;t&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">:</span>
<a name="line-315"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Text unit = one character (</span><span class="si">%s</span><span class="s2">-decoded)&quot;</span> <span class="o">%</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-15">TEXT_ENCODING</a></span><span class="p">)</span>
<a name="line-316"></a>
<a name="line-317"></a>    <span class="c1"># Binary reads</span>
<a name="line-318"></a>    <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span> <span class="ow">and</span> <span class="s2">&quot;r&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">:</span>
<a name="line-319"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">** Binary input **</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a name="line-320"></a>        <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-290">run_test_family</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-226">read_tests</a></span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="n">binary_files</span><span class="p">,</span> <span class="k">lambda</span> <span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">:</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">))</span>
<a name="line-321"></a>
<a name="line-322"></a>    <span class="c1"># Text reads</span>
<a name="line-323"></a>    <span class="k">if</span> <span class="s2">&quot;t&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span> <span class="ow">and</span> <span class="s2">&quot;r&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">:</span>
<a name="line-324"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">** Text input **</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a name="line-325"></a>        <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-290">run_test_family</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-226">read_tests</a></span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">text_files</span><span class="p">,</span> <span class="k">lambda</span> <span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">:</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-24">text_open</a></span><span class="p">(</span><span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">))</span>
<a name="line-326"></a>
<a name="line-327"></a>    <span class="c1"># Binary writes</span>
<a name="line-328"></a>    <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span> <span class="ow">and</span> <span class="s2">&quot;w&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">:</span>
<a name="line-329"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">** Binary append **</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a name="line-330"></a>        <span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-330">make_test_source</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">):</span>
<a name="line-331"></a>            <span class="k">with</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-332"></a>                <span class="k">return</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">()</span>
<a name="line-333"></a>        <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-290">run_test_family</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-233">write_tests</a></span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="n">binary_files</span><span class="p">,</span>
<a name="line-334"></a>            <span class="k">lambda</span> <span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">:</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span><span class="o">.</span><span class="n"><a href="/./Lib/macpath.py.html#line-25">devnull</a></span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">),</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-330">make_test_source</a></span><span class="p">)</span>
<a name="line-335"></a>
<a name="line-336"></a>    <span class="c1"># Text writes</span>
<a name="line-337"></a>    <span class="k">if</span> <span class="s2">&quot;t&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span> <span class="ow">and</span> <span class="s2">&quot;w&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">:</span>
<a name="line-338"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">** Text append **</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a name="line-339"></a>        <span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-330">make_test_source</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">):</span>
<a name="line-340"></a>            <span class="k">with</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-24">text_open</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-341"></a>                <span class="k">return</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">()</span>
<a name="line-342"></a>        <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-290">run_test_family</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-233">write_tests</a></span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">text_files</span><span class="p">,</span>
<a name="line-343"></a>            <span class="k">lambda</span> <span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">:</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-24">text_open</a></span><span class="p">(</span><span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span><span class="o">.</span><span class="n"><a href="/./Lib/macpath.py.html#line-25">devnull</a></span><span class="p">,</span> <span class="s2">&quot;w&quot;</span><span class="p">),</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-330">make_test_source</a></span><span class="p">)</span>
<a name="line-344"></a>
<a name="line-345"></a>    <span class="c1"># Binary overwrites</span>
<a name="line-346"></a>    <span class="k">if</span> <span class="s2">&quot;b&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span> <span class="ow">and</span> <span class="s2">&quot;w&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">:</span>
<a name="line-347"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">** Binary overwrite **</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a name="line-348"></a>        <span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-330">make_test_source</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">):</span>
<a name="line-349"></a>            <span class="k">with</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-350"></a>                <span class="k">return</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">()</span>
<a name="line-351"></a>        <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-290">run_test_family</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-237">modify_tests</a></span><span class="p">,</span> <span class="s2">&quot;t&quot;</span><span class="p">,</span> <span class="n">binary_files</span><span class="p">,</span>
<a name="line-352"></a>            <span class="k">lambda</span> <span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">:</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">,</span> <span class="s2">&quot;r+b&quot;</span><span class="p">),</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-330">make_test_source</a></span><span class="p">)</span>
<a name="line-353"></a>
<a name="line-354"></a>    <span class="c1"># Text overwrites</span>
<a name="line-355"></a>    <span class="k">if</span> <span class="s2">&quot;t&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span> <span class="ow">and</span> <span class="s2">&quot;w&quot;</span> <span class="ow">in</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">:</span>
<a name="line-356"></a>        <span class="k">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">** Text overwrite **</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span>
<a name="line-357"></a>        <span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-330">make_test_source</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">):</span>
<a name="line-358"></a>            <span class="k">with</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-24">text_open</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-359"></a>                <span class="k">return</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">()</span>
<a name="line-360"></a>        <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-290">run_test_family</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-237">modify_tests</a></span><span class="p">,</span> <span class="s2">&quot;b&quot;</span><span class="p">,</span> <span class="n">text_files</span><span class="p">,</span>
<a name="line-361"></a>            <span class="k">lambda</span> <span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">:</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-24">text_open</a></span><span class="p">(</span><span class="n"><a href="/./Lib/aifc.py.html#line-964">fn</a></span><span class="p">,</span> <span class="s2">&quot;r+&quot;</span><span class="p">),</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-330">make_test_source</a></span><span class="p">)</span>
<a name="line-362"></a>
<a name="line-363"></a>
<a name="line-364"></a><span class="k">def</span> <span class="nf"><a href="/./Tools/iobench/iobench.py.html#line-364">prepare_files</a></span><span class="p">():</span>
<a name="line-365"></a>    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;Preparing files...&quot;</span><span class="p">)</span>
<a name="line-366"></a>    <span class="c1"># Binary files</span>
<a name="line-367"></a>    <span class="k">for</span> <span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="ow">in</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-36">get_binary_files</a></span><span class="p">():</span>
<a name="line-368"></a>        <span class="k">if</span> <span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tix/tixwidgets.py.html#line-15">path</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-138">isfile</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">)</span> <span class="ow">and</span> <span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tix/tixwidgets.py.html#line-15">path</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tkinter/guido/sortvisu.py.html#line-106">getsize</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">)</span> <span class="o">==</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">:</span>
<a name="line-369"></a>            <span class="k">continue</span>
<a name="line-370"></a>        <span class="k">with</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-371"></a>            <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span><span class="o">.</span><span class="n">urandom</span><span class="p">(</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">))</span>
<a name="line-372"></a>    <span class="c1"># Text files</span>
<a name="line-373"></a>    <span class="n">chunk</span> <span class="o">=</span> <span class="p">[]</span>
<a name="line-374"></a>    <span class="k">with</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-24">text_open</a></span><span class="p">(</span><span class="n"><a href="/./Lib/idlelib/idle_test/test_grep.py.html#line-14">__file__</a></span><span class="p">,</span> <span class="s2">&quot;rU&quot;</span><span class="p">,</span> <span class="n"><a href="/./Include/pyerrors.h.html#line-35">encoding</a></span><span class="o">=</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-375"></a>        <span class="k">for</span> <span class="n"><a href="/./Demo/scripts/from.py.html#line-23">line</a></span> <span class="ow">in</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-376"></a>            <span class="k">if</span> <span class="n"><a href="/./Demo/scripts/from.py.html#line-23">line</a></span><span class="o">.</span><span class="n"><a href="/./Lib/UserString.py.html#line-123">startswith</a></span><span class="p">(</span><span class="s2">&quot;# &lt;iobench text chunk marker&gt;&quot;</span><span class="p">):</span>
<a name="line-377"></a>                <span class="k">break</span>
<a name="line-378"></a>        <span class="k">else</span><span class="p">:</span>
<a name="line-379"></a>            <span class="k">raise</span> <span class="ne">RuntimeError</span><span class="p">(</span>
<a name="line-380"></a>                <span class="s2">&quot;Couldn&#39;t find chunk marker in </span><span class="si">%s</span><span class="s2"> !&quot;</span> <span class="o">%</span> <span class="n"><a href="/./Lib/idlelib/idle_test/test_grep.py.html#line-14">__file__</a></span><span class="p">)</span>
<a name="line-381"></a>        <span class="k">if</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-16">NEWLINES</a></span> <span class="o">==</span> <span class="s2">&quot;all&quot;</span><span class="p">:</span>
<a name="line-382"></a>            <span class="n"><a href="/./Lib/multiprocessing/util.py.html#line-39">it</a></span> <span class="o">=</span> <span class="n"><a href="/./Lib/lib2to3/btm_matcher.py.html#line-11">itertools</a></span><span class="o">.</span><span class="n"><a href="/./Lib/test/test_io.py.html#line-36">cycle</a></span><span class="p">([</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">])</span>
<a name="line-383"></a>        <span class="k">else</span><span class="p">:</span>
<a name="line-384"></a>            <span class="n"><a href="/./Lib/multiprocessing/util.py.html#line-39">it</a></span> <span class="o">=</span> <span class="n"><a href="/./Lib/lib2to3/btm_matcher.py.html#line-11">itertools</a></span><span class="o">.</span><span class="n"><a href="/./Lib/decimal.py.html#line-6090">repeat</a></span><span class="p">(</span>
<a name="line-385"></a>                <span class="p">{</span><span class="s2">&quot;cr&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;lf&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="s2">&quot;crlf&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\r\n</span><span class="s2">&quot;</span><span class="p">}[</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-16">NEWLINES</a></span><span class="p">])</span>
<a name="line-386"></a>        <span class="n">chunk</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/cvslock.py.html#line-169">join</a></span><span class="p">(</span><span class="n"><a href="/./Demo/scripts/from.py.html#line-23">line</a></span><span class="o">.</span><span class="n"><a href="/./Demo/turtle/tdemo_lindenmayer_indian.py.html#line-30">replace</a></span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> <span class="nb"><a href="/./Doc/includes/mp_newtype.py.html#line-33">next</a></span><span class="p">(</span><span class="n"><a href="/./Lib/multiprocessing/util.py.html#line-39">it</a></span><span class="p">))</span> <span class="k">for</span> <span class="n"><a href="/./Demo/scripts/from.py.html#line-23">line</a></span> <span class="ow">in</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">)</span>
<a name="line-387"></a>        <span class="k">if</span> <span class="nb"><a href="/./Lib/xml/dom/domreg.py.html#line-5">isinstance</a></span><span class="p">(</span><span class="n">chunk</span><span class="p">,</span> <span class="nb"><a href="/./Lib/lib2to3/pgen2/tokenize.py.html#line-46">bytes</a></span><span class="p">):</span>
<a name="line-388"></a>            <span class="n">chunk</span> <span class="o">=</span> <span class="n">chunk</span><span class="o">.</span><span class="n"><a href="/./Lib/UserString.py.html#line-67">decode</a></span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
<a name="line-389"></a>        <span class="n">chunk</span> <span class="o">=</span> <span class="n">chunk</span><span class="o">.</span><span class="n"><a href="/./Lib/UserString.py.html#line-75">encode</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-15">TEXT_ENCODING</a></span><span class="p">)</span>
<a name="line-390"></a>    <span class="k">for</span> <span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="ow">in</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-39">get_text_files</a></span><span class="p">():</span>
<a name="line-391"></a>        <span class="k">if</span> <span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tix/tixwidgets.py.html#line-15">path</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-138">isfile</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">)</span> <span class="ow">and</span> <span class="n"><a href="/./Demo/cgi/wiki.py.html#line-3">os</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tix/tixwidgets.py.html#line-15">path</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tkinter/guido/sortvisu.py.html#line-106">getsize</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">)</span> <span class="o">==</span> <span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span><span class="p">:</span>
<a name="line-392"></a>            <span class="k">continue</span>
<a name="line-393"></a>        <span class="n"><a href="/./Demo/pdist/rcslib.py.html#line-63">head</a></span> <span class="o">=</span> <span class="n">chunk</span> <span class="o">*</span> <span class="p">(</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="o">//</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n">chunk</span><span class="p">))</span>
<a name="line-394"></a>        <span class="n"><a href="/./Lib/xml/etree/ElementTree.py.html#line-203">tail</a></span> <span class="o">=</span> <span class="n">chunk</span><span class="p">[:</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-153">size</a></span> <span class="o">%</span> <span class="nb"><a href="/./Include/object.h.html#line-167">len</a></span><span class="p">(</span><span class="n">chunk</span><span class="p">)]</span>
<a name="line-395"></a>        <span class="c1"># Adjust tail to end on a character boundary</span>
<a name="line-396"></a>        <span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
<a name="line-397"></a>            <span class="k">try</span><span class="p">:</span>
<a name="line-398"></a>                <span class="n"><a href="/./Lib/xml/etree/ElementTree.py.html#line-203">tail</a></span><span class="o">.</span><span class="n"><a href="/./Lib/UserString.py.html#line-67">decode</a></span><span class="p">(</span><span class="n"><a href="/./Tools/iobench/iobench.py.html#line-15">TEXT_ENCODING</a></span><span class="p">)</span>
<a name="line-399"></a>                <span class="k">break</span>
<a name="line-400"></a>            <span class="k">except</span> <span class="ne">UnicodeDecodeError</span><span class="p">:</span>
<a name="line-401"></a>                <span class="n"><a href="/./Lib/xml/etree/ElementTree.py.html#line-203">tail</a></span> <span class="o">=</span> <span class="n"><a href="/./Lib/xml/etree/ElementTree.py.html#line-203">tail</a></span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
<a name="line-402"></a>        <span class="k">with</span> <span class="nb"><a href="/./Lib/_pyio.py.html#line-44">open</a></span><span class="p">(</span><span class="n"><a href="/./Doc/tools/extensions/pyspecific.py.html#line-159">name</a></span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="p">:</span>
<a name="line-403"></a>            <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Demo/pdist/rcslib.py.html#line-63">head</a></span><span class="p">)</span>
<a name="line-404"></a>            <span class="n"><a href="/./Demo/parser/simple.py.html#line-1">f</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">(</span><span class="n"><a href="/./Lib/xml/etree/ElementTree.py.html#line-203">tail</a></span><span class="p">)</span>
<a name="line-405"></a>
<a name="line-406"></a><span class="k">def</span> <span class="nf"><a href="/./Demo/cgi/cgi2.py.html#line-9">main</a></span><span class="p">():</span>
<a name="line-407"></a>    <span class="k">global</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-15">TEXT_ENCODING</a></span><span class="p">,</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-16">NEWLINES</a></span>
<a name="line-408"></a>
<a name="line-409"></a>    <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-85">usage</a></span> <span class="o">=</span> <span class="s2">&quot;usage: %prog [-h|--help] [options]&quot;</span>
<a name="line-410"></a>    <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span> <span class="o">=</span> <span class="n"><a href="/./Doc/includes/email-dir.py.html#line-11">OptionParser</a></span><span class="p">(</span><span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-85">usage</a></span><span class="o">=</span><span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-85">usage</a></span><span class="p">)</span>
<a name="line-411"></a>    <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span><span class="o">.</span><span class="n"><a href="/./Lib/distutils/fancy_getopt.py.html#line-98">add_option</a></span><span class="p">(</span><span class="s2">&quot;-b&quot;</span><span class="p">,</span> <span class="s2">&quot;--binary&quot;</span><span class="p">,</span>
<a name="line-412"></a>                      <span class="n"><a href="/./Demo/pdist/rcvs.py.html#line-48">action</a></span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-106">dest</a></span><span class="o">=</span><span class="s2">&quot;binary&quot;</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-115">default</a></span><span class="o">=</span><span class="bp"><a href="/./Lib/plat-mac/bundlebuilder.py.html#line-925">False</a></span><span class="p">,</span>
<a name="line-413"></a>                      <span class="n"><a href="/./Doc/make.bat.html#line-48">help</a></span><span class="o">=</span><span class="s2">&quot;run binary I/O tests&quot;</span><span class="p">)</span>
<a name="line-414"></a>    <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span><span class="o">.</span><span class="n"><a href="/./Lib/distutils/fancy_getopt.py.html#line-98">add_option</a></span><span class="p">(</span><span class="s2">&quot;-t&quot;</span><span class="p">,</span> <span class="s2">&quot;--text&quot;</span><span class="p">,</span>
<a name="line-415"></a>                      <span class="n"><a href="/./Demo/pdist/rcvs.py.html#line-48">action</a></span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-106">dest</a></span><span class="o">=</span><span class="s2">&quot;text&quot;</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-115">default</a></span><span class="o">=</span><span class="bp"><a href="/./Lib/plat-mac/bundlebuilder.py.html#line-925">False</a></span><span class="p">,</span>
<a name="line-416"></a>                      <span class="n"><a href="/./Doc/make.bat.html#line-48">help</a></span><span class="o">=</span><span class="s2">&quot;run text I/O tests&quot;</span><span class="p">)</span>
<a name="line-417"></a>    <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span><span class="o">.</span><span class="n"><a href="/./Lib/distutils/fancy_getopt.py.html#line-98">add_option</a></span><span class="p">(</span><span class="s2">&quot;-r&quot;</span><span class="p">,</span> <span class="s2">&quot;--read&quot;</span><span class="p">,</span>
<a name="line-418"></a>                      <span class="n"><a href="/./Demo/pdist/rcvs.py.html#line-48">action</a></span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-106">dest</a></span><span class="o">=</span><span class="s2">&quot;read&quot;</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-115">default</a></span><span class="o">=</span><span class="bp"><a href="/./Lib/plat-mac/bundlebuilder.py.html#line-925">False</a></span><span class="p">,</span>
<a name="line-419"></a>                      <span class="n"><a href="/./Doc/make.bat.html#line-48">help</a></span><span class="o">=</span><span class="s2">&quot;run read tests&quot;</span><span class="p">)</span>
<a name="line-420"></a>    <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span><span class="o">.</span><span class="n"><a href="/./Lib/distutils/fancy_getopt.py.html#line-98">add_option</a></span><span class="p">(</span><span class="s2">&quot;-w&quot;</span><span class="p">,</span> <span class="s2">&quot;--write&quot;</span><span class="p">,</span>
<a name="line-421"></a>                      <span class="n"><a href="/./Demo/pdist/rcvs.py.html#line-48">action</a></span><span class="o">=</span><span class="s2">&quot;store_true&quot;</span><span class="p">,</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-106">dest</a></span><span class="o">=</span><span class="s2">&quot;write&quot;</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-115">default</a></span><span class="o">=</span><span class="bp"><a href="/./Lib/plat-mac/bundlebuilder.py.html#line-925">False</a></span><span class="p">,</span>
<a name="line-422"></a>                      <span class="n"><a href="/./Doc/make.bat.html#line-48">help</a></span><span class="o">=</span><span class="s2">&quot;run write &amp; modify tests&quot;</span><span class="p">)</span>
<a name="line-423"></a>    <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span><span class="o">.</span><span class="n"><a href="/./Lib/distutils/fancy_getopt.py.html#line-98">add_option</a></span><span class="p">(</span><span class="s2">&quot;-E&quot;</span><span class="p">,</span> <span class="s2">&quot;--encoding&quot;</span><span class="p">,</span>
<a name="line-424"></a>                      <span class="n"><a href="/./Demo/pdist/rcvs.py.html#line-48">action</a></span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-106">dest</a></span><span class="o">=</span><span class="s2">&quot;encoding&quot;</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-115">default</a></span><span class="o">=</span><span class="bp"><a href="/./Lib/lib2to3/fixes/fix_exitfunc.py.html#line-35">None</a></span><span class="p">,</span>
<a name="line-425"></a>                      <span class="n"><a href="/./Doc/make.bat.html#line-48">help</a></span><span class="o">=</span><span class="s2">&quot;encoding for text tests (default: </span><span class="si">%s</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-15">TEXT_ENCODING</a></span><span class="p">)</span>
<a name="line-426"></a>    <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span><span class="o">.</span><span class="n"><a href="/./Lib/distutils/fancy_getopt.py.html#line-98">add_option</a></span><span class="p">(</span><span class="s2">&quot;-N&quot;</span><span class="p">,</span> <span class="s2">&quot;--newlines&quot;</span><span class="p">,</span>
<a name="line-427"></a>                      <span class="n"><a href="/./Demo/pdist/rcvs.py.html#line-48">action</a></span><span class="o">=</span><span class="s2">&quot;store&quot;</span><span class="p">,</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-106">dest</a></span><span class="o">=</span><span class="s2">&quot;newlines&quot;</span><span class="p">,</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-115">default</a></span><span class="o">=</span><span class="s1">&#39;lf&#39;</span><span class="p">,</span>
<a name="line-428"></a>                      <span class="n"><a href="/./Doc/make.bat.html#line-48">help</a></span><span class="o">=</span><span class="s2">&quot;line endings for text tests &quot;</span>
<a name="line-429"></a>                           <span class="s2">&quot;(one of: {lf (default), cr, crlf, all})&quot;</span><span class="p">)</span>
<a name="line-430"></a>    <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="p">,</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-213">args</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span><span class="o">.</span><span class="n"><a href="/./Lib/argparse.py.html#line-1700">parse_args</a></span><span class="p">()</span>
<a name="line-431"></a>    <span class="k">if</span> <span class="n"><a href="/./Include/Python-ast.h.html#line-213">args</a></span><span class="p">:</span>
<a name="line-432"></a>        <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-9">error</a></span><span class="p">(</span><span class="s2">&quot;unexpected arguments&quot;</span><span class="p">)</span>
<a name="line-433"></a>    <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-16">NEWLINES</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="o">.</span><span class="n"><a href="/./Lib/_pyio.py.html#line-1353">newlines</a></span><span class="o">.</span><span class="n"><a href="/./Include/Python-ast.h.html#line-320">lower</a></span><span class="p">()</span>
<a name="line-434"></a>    <span class="k">if</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-16">NEWLINES</a></span> <span class="ow">not</span> <span class="ow">in</span> <span class="p">(</span><span class="s1">&#39;lf&#39;</span><span class="p">,</span> <span class="s1">&#39;cr&#39;</span><span class="p">,</span> <span class="s1">&#39;crlf&#39;</span><span class="p">,</span> <span class="s1">&#39;all&#39;</span><span class="p">):</span>
<a name="line-435"></a>        <span class="n"><a href="/./Demo/parser/example.py.html#line-9">parser</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-9">error</a></span><span class="p">(</span><span class="s2">&quot;invalid &#39;newlines&#39; option: </span><span class="si">%r</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-16">NEWLINES</a></span><span class="p">)</span>
<a name="line-436"></a>
<a name="line-437"></a>    <span class="n"><a href="/./Lib/test/test_ssl.py.html#line-715">test_options</a></span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<a name="line-438"></a>    <span class="k">if</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">:</span>
<a name="line-439"></a>        <span class="n"><a href="/./Lib/test/test_ssl.py.html#line-715">test_options</a></span> <span class="o">+=</span> <span class="s2">&quot;r&quot;</span>
<a name="line-440"></a>    <span class="k">if</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="o">.</span><span class="n"><a href="/./Demo/classes/bitvec.py.html#line-7">write</a></span><span class="p">:</span>
<a name="line-441"></a>        <span class="n"><a href="/./Lib/test/test_ssl.py.html#line-715">test_options</a></span> <span class="o">+=</span> <span class="s2">&quot;w&quot;</span>
<a name="line-442"></a>    <span class="k">elif</span> <span class="ow">not</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="o">.</span><span class="n"><a href="/./Demo/pdist/FSProxy.py.html#line-225">read</a></span><span class="p">:</span>
<a name="line-443"></a>        <span class="n"><a href="/./Lib/test/test_ssl.py.html#line-715">test_options</a></span> <span class="o">+=</span> <span class="s2">&quot;rw&quot;</span>
<a name="line-444"></a>    <span class="k">if</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tkinter/ttk/roundframe.py.html#line-106">text</a></span><span class="p">:</span>
<a name="line-445"></a>        <span class="n"><a href="/./Lib/test/test_ssl.py.html#line-715">test_options</a></span> <span class="o">+=</span> <span class="s2">&quot;t&quot;</span>
<a name="line-446"></a>    <span class="k">if</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="o">.</span><span class="n">binary</span><span class="p">:</span>
<a name="line-447"></a>        <span class="n"><a href="/./Lib/test/test_ssl.py.html#line-715">test_options</a></span> <span class="o">+=</span> <span class="s2">&quot;b&quot;</span>
<a name="line-448"></a>    <span class="k">elif</span> <span class="ow">not</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="o">.</span><span class="n"><a href="/./Demo/tkinter/ttk/roundframe.py.html#line-106">text</a></span><span class="p">:</span>
<a name="line-449"></a>        <span class="n"><a href="/./Lib/test/test_ssl.py.html#line-715">test_options</a></span> <span class="o">+=</span> <span class="s2">&quot;tb&quot;</span>
<a name="line-450"></a>
<a name="line-451"></a>    <span class="k">if</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="o">.</span><span class="n"><a href="/./Include/pyerrors.h.html#line-35">encoding</a></span><span class="p">:</span>
<a name="line-452"></a>        <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-15">TEXT_ENCODING</a></span> <span class="o">=</span> <span class="n"><a href="/./Demo/pdist/cmdfw.py.html#line-71">options</a></span><span class="o">.</span><span class="n"><a href="/./Include/pyerrors.h.html#line-35">encoding</a></span>
<a name="line-453"></a>
<a name="line-454"></a>    <span class="n"><a href="/./Tools/iobench/iobench.py.html#line-364">prepare_files</a></span><span class="p">()</span>
<a name="line-455"></a>    <span class="n"><a href="/./Lib/lib2to3/tests/support.py.html#line-25">run_all_tests</a></span><span class="p">(</span><span class="n"><a href="/./Lib/test/test_ssl.py.html#line-715">test_options</a></span><span class="p">)</span>
<a name="line-456"></a>
<a name="line-457"></a><span class="k">if</span> <span class="n"><a href="/./Lib/test/test_pydoc.py.html#line-351">__name__</a></span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
<a name="line-458"></a>    <span class="n"><a href="/./Demo/cgi/cgi2.py.html#line-9">main</a></span><span class="p">()</span>
<a name="line-459"></a>
<a name="line-460"></a>
<a name="line-461"></a><span class="c1"># -- This part to exercise text reading. Don&#39;t change anything! --</span>
<a name="line-462"></a><span class="c1"># &lt;iobench text chunk marker&gt;</span>
<a name="line-463"></a>
<a name="line-464"></a><span class="sd">&quot;&quot;&quot;</span>
<a name="line-465"></a><span class="sd">1.</span>
<a name="line-466"></a><span class="sd">Gttir allar,</span>
<a name="line-467"></a><span class="sd">r gangi fram,</span>
<a name="line-468"></a><span class="sd">um skoask skyli,</span>
<a name="line-469"></a><span class="sd">um skyggnast skyli,</span>
<a name="line-470"></a><span class="sd">v at vst er at vita,</span>
<a name="line-471"></a><span class="sd">hvar vinir</span>
<a name="line-472"></a><span class="sd">sitja  fleti fyrir.</span>
<a name="line-473"></a>
<a name="line-474"></a><span class="sd">2.</span>
<a name="line-475"></a><span class="sd">Gefendr heilir!</span>
<a name="line-476"></a><span class="sd">Gestr er inn kominn,</span>
<a name="line-477"></a><span class="sd">hvar skal sitja sj?</span>
<a name="line-478"></a><span class="sd">Mjk er brr,</span>
<a name="line-479"></a><span class="sd">s er  brndum skal</span>
<a name="line-480"></a><span class="sd">sns of freista frama.</span>
<a name="line-481"></a>
<a name="line-482"></a><span class="sd">3.</span>
<a name="line-483"></a><span class="sd">Elds er rf,</span>
<a name="line-484"></a><span class="sd">eims inn er kominn</span>
<a name="line-485"></a><span class="sd">ok  kn kalinn;</span>
<a name="line-486"></a><span class="sd">matar ok va</span>
<a name="line-487"></a><span class="sd">er manni rf,</span>
<a name="line-488"></a><span class="sd">eim er hefr um fjall farit.</span>
<a name="line-489"></a>
<a name="line-490"></a><span class="sd">4.</span>
<a name="line-491"></a><span class="sd">Vatns er rf,</span>
<a name="line-492"></a><span class="sd">eim er til verar kemr,</span>
<a name="line-493"></a><span class="sd">erru ok jlaar,</span>
<a name="line-494"></a><span class="sd">gs of is,</span>
<a name="line-495"></a><span class="sd">ef sr geta mtti,</span>
<a name="line-496"></a><span class="sd">ors ok endrgu.</span>
<a name="line-497"></a>
<a name="line-498"></a><span class="sd">5.</span>
<a name="line-499"></a><span class="sd">Vits er rf,</span>
<a name="line-500"></a><span class="sd">eim er va ratar;</span>
<a name="line-501"></a><span class="sd">dlt er heima hvat;</span>
<a name="line-502"></a><span class="sd">at augabragi verr,</span>
<a name="line-503"></a><span class="sd">s er ekki kann</span>
<a name="line-504"></a><span class="sd">ok me snotrum sitr.</span>
<a name="line-505"></a>
<a name="line-506"></a><span class="sd">6.</span>
<a name="line-507"></a><span class="sd">At hyggjandi sinni</span>
<a name="line-508"></a><span class="sd">skyli-t mar hrsinn vera,</span>
<a name="line-509"></a><span class="sd">heldr gtinn at gei;</span>
<a name="line-510"></a><span class="sd"> er horskr ok gull</span>
<a name="line-511"></a><span class="sd">kemr heimisgara til,</span>
<a name="line-512"></a><span class="sd">sjaldan verr vti vrum,</span>
<a name="line-513"></a><span class="sd">v at brigra vin</span>
<a name="line-514"></a><span class="sd">fr mar aldregi</span>
<a name="line-515"></a><span class="sd">en mannvit mikit.</span>
<a name="line-516"></a>
<a name="line-517"></a><span class="sd">7.</span>
<a name="line-518"></a><span class="sd">Inn vari gestr,</span>
<a name="line-519"></a><span class="sd">er til verar kemr,</span>
<a name="line-520"></a><span class="sd">unnu hlji egir,</span>
<a name="line-521"></a><span class="sd">eyrum hlir,</span>
<a name="line-522"></a><span class="sd">en augum skoar;</span>
<a name="line-523"></a><span class="sd">sv nsisk frra hverr fyrir.</span>
<a name="line-524"></a>
<a name="line-525"></a><span class="sd">8.</span>
<a name="line-526"></a><span class="sd">Hinn er sll,</span>
<a name="line-527"></a><span class="sd">er sr of getr</span>
<a name="line-528"></a><span class="sd">lof ok lknstafi;</span>
<a name="line-529"></a><span class="sd">dlla er vi at,</span>
<a name="line-530"></a><span class="sd">er mar eiga skal</span>
<a name="line-531"></a><span class="sd">annars brjstum .</span>
<a name="line-532"></a><span class="sd">&quot;&quot;&quot;</span>
<a name="line-533"></a>
<a name="line-534"></a><span class="sd">&quot;&quot;&quot;</span>
<a name="line-535"></a><span class="sd">C&#39;est revenir tard, je le sens, sur un sujet trop rebattu et dj presque oubli. Mon tat, qui ne me permet plus aucun travail suivi, mon aversion pour le genre polmique, ont caus ma lenteur  crire et ma rpugnance  publier. J&#39;aurais mme tout  fait supprim ces Lettres, ou plutt je lie les aurais point crites, s&#39;il n&#39;et t question que de moi : Mais ma patrie ne m&#39;est pas tellement devenue trangre que je puisse voir tranquillement opprimer ses citoyens, surtout lorsqu&#39;ils n&#39;ont compromis leurs droits qu&#39;en dfendant ma cause. Je serais le dernier des hommes si dans une telle occasion j&#39;coutais un sentiment qui n&#39;est plus ni douceur ni patience, mais faiblesse et lchet, dans celui qu&#39;il empche de remplir son devoir.</span>
<a name="line-536"></a><span class="sd">Rien de moins important pour le public, j&#39;en conviens, que la matire de ces lettres. La constitution d&#39;une petite Rpublique, le sort d&#39;un petit particulier, l&#39;expos de quelques injustices, la rfutation de quelques sophismes ; tout cela n&#39;a rien en soi d&#39;assez considrable pour mriter beaucoup de lecteurs : mais si mes sujets sont petits mes objets sont grands, et dignes de l&#39;attention de tout honnte homme. Laissons Genve  sa place, et Rousseau dans sa dpression ; mais la religion, mais la libert, la justice ! voil, qui que vous soyez, ce qui n&#39;est pas au-dessous de vous.</span>
<a name="line-537"></a><span class="sd">Qu&#39;on ne cherche pas mme ici dans le style le ddommagement de l&#39;aridit de la matire. Ceux que quelques traits heureux de ma plume ont si fort irrits trouveront de quoi s&#39;apaiser dans ces lettres, L&#39;honneur de dfendre un opprim et enflamm mon coeur si j&#39;avais parl pour un autre. Rduit au triste emploi de me dfendre moi-mme, j&#39;ai d me borner  raisonner ; m&#39;chauffer et t m&#39;avilir. J&#39;aurai donc trouv grce en ce point devant ceux qui s&#39;imaginent qu&#39;il est essentiel  la vrit d&#39;tre dite froidement ; opinion que pourtant j&#39;ai peine  comprendre. Lorsqu&#39;une vive persuasion nous anime, le moyen d&#39;employer un langage glac ? Quand Archimde tout transport courait nu dans les rues de Syracuse, en avait-il moins trouv la vrit parce qu&#39;il se passionnait pour elle ? Tout au contraire, celui qui la sent ne peut s&#39;abstenir de l&#39;adorer ; celui qui demeure froid ne l&#39;a pas vue.</span>
<a name="line-538"></a><span class="sd">Quoi qu&#39;il en soit, je prie les lecteurs de vouloir bien mettre  part mon beau style, et d&#39;examiner seulement si je raisonne bien ou mal ; car enfin, de cela seul qu&#39;un auteur s&#39;exprime en bons termes, je ne vois pas comment il peut s&#39;ensuivre que cet auteur ne sait ce qu&#39;il dit.</span>
<a name="line-539"></a><span class="sd">&quot;&quot;&quot;</span>
</pre></div>
</td></tr></table></body>
</html>
